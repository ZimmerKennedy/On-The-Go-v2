import{a as e,j as o,u as M,b as W,r,H as F,F as j,f as R,c as k,d as $,e as z,g as I}from"./index-36e37283.js";const P=({tripType:n,classType:g,travelers:a,setClassType:v,setTravelers:u,setTripType:x})=>e("div",{className:"mt-6 mx-2 lg:mx-4",children:o("section",{className:"flex flex-col xl:flex-row sm:h-auto gap-2 lg:mb-4",children:[o("div",{className:"flex flex-col lg:mb-4",children:[e("label",{className:"font-bold text-xl mb-2 text-white text-shadow-lg font-roboto",children:"Trip:"}),o("select",{className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2",value:n,onChange:h=>{x(h.target.value)},children:[e("option",{value:"Roundtrip",children:"Roundtrip"}),e("option",{value:"One Way",children:"One Way"})]})]}),o("div",{className:"flex flex-col lg:mb-4",children:[e("label",{className:"mr-2 font-bold text-xl mb-2 text-white text-shadow-lg font-roboto",children:"Travelers:"}),o("div",{className:"flex items-center",children:[e("button",{type:"button",className:"bg-gray-300 py-2 px-3 rounded-l-md",onClick:()=>a>1?u(a-1):null,children:"-"}),e("input",{type:"text",className:"w-8 text-center border-t border-b border-gray-300 py-1.5 px-3",value:a,readOnly:!0}),e("button",{type:"button",className:"bg-gray-300 py-2 px-3 rounded-r-md",onClick:()=>u(a+1),children:"+"})]})]}),o("div",{className:"flex flex-col mb-4 sm:mb-0",children:[e("label",{className:"font-bold text-xl mb-2 text-white text-shadow-lg font-roboto",children:"Class:"}),o("select",{className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2",value:g,onChange:h=>v(h.target.value),children:[e("option",{value:"economy",children:"Economy"}),e("option",{value:"premium",children:"Premium Economy"}),e("option",{value:"business",children:"Business"}),e("option",{value:"first",children:"First Class"})]})]})]})}),H=({destination:n,origin:g,departingDate:a,returningDate:v,tripType:u,setDestination:x,setOrigin:N,setDepartingDate:h,setReturningDate:p})=>{const s=M(t=>t.airportLocationsData),b=W(),[m,w]=r.useState({destination:!1,origin:!1}),C=(t,l)=>{const i=t.target.value;l?(N(i),b(R(i))):(x(i),b(R(i)))},y=(t,l,i)=>{t==="origin"?(N(l),w({...m,origin:i})):t==="destination"&&(x(l),w({...m,destination:!i}))};return o("section",{className:"flex flex-col lg:flex-row justify-center mx-2 mb-4 gap-2 lg:mx-4",children:[o("div",{className:"flex flex-col w-full",children:[e("label",{className:"font-bold text-xl lg:ml-2 mb-2 text-white text-shadow-lg font-roboto",children:"Leaving From:"}),e("input",{placeholder:"Enter city or airport",className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2",type:"text",onChange:t=>C(t,!0),value:g}),s.data&&s.data.length>0&&!m.origin&&!m.destination&&e("div",{className:" h-full lg:h-1/2 absolute bg-white border border-gray-300 rounded-md p-2 mt-20 max-h-64 overflow-y-auto z-10",style:{minWidth:"200px"},children:s.data?s.data.map(t=>e("div",{className:"py-1 px-2 hover:bg-gray-200 cursor-pointer border-2 border-b-navy-blue border-transparent",onClick:()=>y("origin",t.displayName,!0),children:t.displayName},`${t.cityCode}-${t.displayName}`)):null})]}),o("div",{className:"flex flex-col w-full",children:[e("label",{className:"font-bold text-xl lg:ml-2 mb-2 text-white text-shadow-lg font-roboto",children:"Going To:"}),e("input",{className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2",type:"text",onChange:t=>C(t,!1),placeholder:"Enter city or airport",value:n}),s.data&&s.data.length>0&&m.origin&&!m.destination&&e("div",{className:" h-full lg:h-1/2 absolute bg-white border border-gray-300 rounded-md p-2 mt-20 max-h-64 overflow-y-auto z-10",style:{minWidth:"200px"},children:s.data?s.data.map(t=>e("div",{className:"py-1 px-2 hover:bg-gray-200 cursor-pointer border-2 border-b-navy-blue border-transparent",onClick:()=>y("destination",t.displayName,!1),children:t.displayName},`${t.cityCode}-${t.displayName}`)):null})]}),o("div",{className:"flex flex-col w-full",children:[e("label",{className:"font-bold text-xl mb-2 text-white text-shadow-lg font-roboto",children:"Departing:"}),e(F,{name:"departingDate",minDate:new Date,selected:a,onChange:t=>h(t),className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2"})]}),e("div",{className:"flex flex-col w-full",children:u==="Roundtrip"&&o(j,{children:[e("label",{className:"lg:ml-2 font-bold text-xl mb-2 text-white text-shadow-lg font-roboto",children:"Returning:"}),e(F,{name:"returningDate",minDate:a,selected:v,onChange:t=>p(t),className:"border rounded-md h-10 focus:ring-2 focus:ring-blue-600 focus:border-transparent shadow-inner focus:shadow outline-none w-full max-w-xs px-2"})]})})]})},q=({handleSearchClick:n})=>e("section",{className:"w-full flex items-center justify-center",children:e("button",{onClick:n,className:"group mb-4 ml-6 lg:ml-0 bg-light-blue hover:bg-opacity-5 text-white font-bold px-2 rounded shadow-md transition duration-200 ease-in-out  my-4",children:o("div",{className:"flex",children:[e(k,{icon:$,className:" py-2 text-xl text-white group-hover:text-light-blue transition-colors duration-200 ease-in-out delay-100"}),e(k,{icon:$,className:" py-2 text-xl text-white group-hover:text-light-blue transition-colors duration-200 ease-in-out delay-200"}),e(k,{icon:$,className:" py-2 text-xl text-white group-hover:text-light-blue transition-colors duration-200 ease-in-out delay-300"})]})})}),G=({isAlertShown:n,setIsAlertShown:g})=>e(j,{children:n&&o("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:[e("strong",{className:"font-bold",children:"Error:"}),e("span",{className:"ml-1 block sm:inline",children:"Please fill in all the required fields before searching."}),e("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>g(!1),children:o("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[e("title",{children:"Close"}),e("path",{fillRule:"evenodd",d:"M14.348 5.652a.5.5 0 0 1 0 .707L10.707 10l3.641 3.641a.5.5 0 1 1-.707.707L10 10.707l-3.641 3.641a.5.5 0 1 1-.707-.707L9.293 10 5.652 6.359a.5.5 0 0 1 .707-.707L10 9.293l3.641-3.641a.5.5 0 0 1 .707 0z"})]})})]})}),X=()=>{const n=z(),g=W(),[a,v]=r.useState(null),[u,x]=r.useState(null),[N,h]=r.useState(!1),[p,s]=r.useState(""),[b,m]=r.useState(""),[w,C]=r.useState(1),[y,t]=r.useState("Economy"),[l,i]=r.useState("Roundtrip"),[B,T]=r.useState(!1),O=()=>{T(!0),setTimeout(()=>{T(!1)},6e3)},_=()=>{E()?(A(),O()):h(!0)},E=()=>{if(b&&p&&a&&w&&y){if(l==="Roundtrip"&&u)return!0;if(l==="One Way")return!0}return!1},S=c=>{const d=c.getDate(),f=c.getMonth()+1;return`${c.getFullYear()}/${f<10?"0"+f:f}/${d<10?"0"+d:d}`},D=c=>{let d="";const f=c.match(/\(([^)]+)\)/g);return f&&(d=f.join("").replace(/[\(\)]/g,"")),d},A=async()=>{const c=new Date(a);c.setMonth(c.getMonth()+3);const d=S(c);console.log("defaultDateOneWay",d);const f={departure_date:`${S(a)},${l==="One Way"?d:S(u)}`,adults:w,sid:"iSiX639",origin_airport_code:`${D(b)},${D(p)}`,cabin_class:y.toLowerCase(),destination_airport_code:`${D(p)},${D(b)}`,number_of_itineraries:"50"};try{const L=await g(I(f));l==="One Way"?n("/flight-search-one-way"):l==="Roundtrip"&&n("/flight-search")}catch(L){console.error(L)}};return e("div",{className:"flex justify-center sm:h-full w-full",children:e("div",{className:`relative flex flex-col w-full h-auto xl:w-1/2 rounded-lg border border-gray bg-black bg-opacity-60 shadow-black shadow-sm m-2
  ${B?"border-t-4 border-blue-600 animate-pulse":""}`,children:o("div",{className:"relative bg-white bg-opacity-0",children:[e(G,{isAlertShown:N,setIsAlertShown:h}),e(P,{tripType:l,classType:y,travelers:w,setTravelers:C,setClassType:t,setTripType:i}),e(H,{destination:p,origin:b,departingDate:a,returningDate:u,tripType:l,setOrigin:m,setDestination:s,setDepartingDate:v,setReturningDate:x}),e(q,{handleSearchClick:_})]})})})};export{X as default};
