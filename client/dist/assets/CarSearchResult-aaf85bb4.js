import{r as d,j as t,a as e,c as N,z as w,b as T,e as R,u as j,k as _,R as F,F as $,N as I,B as M,D as O}from"./index-36e37283.js";const U=({onFilter:i})=>{const[r,c]=d.useState(""),a=s=>{c(s===r?"":s),s===r?(c(""),i("carType","")):i("carType",s)};return t("div",{className:" flex flex-col lg:flex-row lg:justify-evenly font-roboto items-center p-2",children:[e("button",{type:"button",value:"Car",className:`text-xs   border p-1 border-light-blue rounded-md ${r==="Car"?"bg-light-blue text-white":""}`,onClick:()=>a("Car"),children:"Car"}),e("br",{}),e("button",{type:"button",value:"SUV",className:`text-xs   border p-1 border-light-blue rounded-md ${r==="SUV"?"bg-light-blue text-white":""}`,onClick:()=>a("SUV"),children:"SUV"}),e("br",{}),e("button",{type:"button",value:"Pickup",className:`text-xs   border p-1 border-light-blue rounded-md ${r==="Pickup"?"bg-light-blue text-white":""}`,onClick:()=>a("Pickup"),children:"Pickup Truck"})]})},z=({onFilter:i})=>{const[r,c]=d.useState(1),[a,s]=d.useState(9999);return t("main",{className:"w-full h-full flex flex-col items-center",children:[t("section",{className:"flex flex-col lg:flex-row items-center justify-center w-full",children:[t("label",{className:"mx-4 text-xs lg:text-md",children:["Min"," ",e(N,{icon:w,className:"text-md"}),":",e("input",{type:"number",value:r,className:" border-navy-blue border w-12 rounded-md",onChange:m=>c(m.target.value)})]}),t("label",{className:"mx-4 text-xs lg:text-md",children:["Max"," ",e(N,{icon:w,className:"text-md"}),":",e("input",{type:"number",value:a,className:" border-navy-blue border w-12 rounded-md",onChange:m=>s(m.target.value)})]})]}),t("section",{children:[e("button",{onClick:()=>{i("price",{min:parseFloat(r),max:parseFloat(a)})},className:"mx-5 lg:mx-4 mt-2 lg:mt-4 border border-navy-blue rounded-md text-white bg-light-blue p-1 hover:bg-opacity-90 text-xs lg:text-md",children:"Apply"}),e("button",{onClick:()=>{c(1),s(9999),i("price",{min:1,max:99999})},className:"mx-5 lg:mx-4 mt-2 lg:mt-4 border border-navy-blue rounded-lg text-white bg-light-blue p-1 hover:bg-opacity-90 text-xs lg:text-md",children:"Reset"})]})]})},L=({onFilter:i})=>{const[r,c]=d.useState(""),a=s=>{c(s===r?"":s),i("passengers",s)};return t("div",{className:"flex flex-col lg:flex-row justify-evenly font-roboto",children:[e("button",{type:"button",value:"4",className:`text-xs lg:text-m border p-1 border-light-blue rounded-md ${r==="4"?"bg-light-blue text-white":""}`,onClick:()=>a("4"),children:"2+"}),e("br",{}),e("button",{type:"button",value:"5-6",className:`text-xs lg:text-m border p-1 border-light-blue rounded-md ${r==="5-6"?"bg-light-blue text-white":""}`,onClick:()=>a("5-6"),children:"5+"}),e("br",{}),e("button",{type:"button",value:"7+",className:`text-xs lg:text-m border p-1 border-light-blue rounded-md ${r==="7+"?"bg-light-blue text-white":""}`,onClick:()=>a("7+"),children:"7+"})]})},V=({onFilter:i})=>{const[r,c]=d.useState(""),a=s=>{c(s),i("transmission",s)};return t("div",{className:"flex flex-col lg:flex-row justify-evenly font-roboto",children:[e("button",{onClick:()=>a("Automatic"),className:`text-xs lg:text-md mb-2 border p-1 border-light-blue rounded-md ${r==="Automatic"?"bg-light-blue text-white":""}`,children:"Automatic"}),e("button",{onClick:()=>a("Manual"),className:`text-xs lg:text-md mb-2 border p-1 border-light-blue rounded-md ${r==="Manual"?"bg-light-blue text-white":""}`,children:"Manual"})]})},A=()=>{const[i,r]=d.useState(!1),[c,a]=d.useState(!1),[s,h]=d.useState(!1),[u,m]=d.useState(!1),C=T(),k=R(),g=j(l=>l.carSearchData);if(g.payload.getCarResultsRequest.error)return e(_,{});console.log("carSearchData",g);const x=g.payload.getCarResultsRequest.results.results_list,f=Object.keys(x).map(l=>{const o=x[l];return{car:o.car,dropoff:o.dropoff,partner:o.partner,pickup:o.pickup,priceDetails:o.price_details,rentalDays:o.num_rental_days,carType:o.car.description}}),S=l=>{C(O(l)),k("/user-car-preview")},[n,D]=F.useState({carType:"",price:"",passengers:"",bags:"",transmission:""}),p=(l,o)=>{D({...n,[l]:o})},y=f.filter(l=>(!n.carType||l.car.type_name.includes("Car")&&n.carType==="Car"||l.car.type_name.includes("SUV")&&n.carType==="SUV"||l.car.type_name.includes("Pickup")&&n.carType==="Pickup")&&(!n.price||l.priceDetails.base.total_price_float>=n.price.min&&l.priceDetails.base.total_price_float<=n.price.max)&&(!n.passengers||parseInt(l.car.passengers)===parseInt(n.passengers))&&(!n.bags||parseInt(l.car.bags)===parseInt(n.bags))&&(!n.transmission||l.car.transmission===n.transmission));console.log("filteredData",y);function P(l){return l.map(b=>b.carType)}return P(f),t($,{children:[e(I,{}),t("main",{className:"w-full min-h-screen flex flex-col justify-center items-center bg-gray-200",children:[e(M,{}),t("main",{className:"w-full h-full flex flex-col lg:flex-row justify-between lg:justify-center",children:[t("section",{className:"flex flex-row lg:flex-col lg:w-1/6 lg:mx-6 ",children:[t("div",{className:"relative mx-2",children:[t("button",{className:"flex items-center justify-between w-full lg:p-3 px lg:text-lg text-md  text-navy-blue  border-b border-light-blue  ",onClick:()=>r(!i),children:[e("span",{children:"Vehicle"}),e("span",{className:`transform transition-transform ${i?"rotate-180":""}`,children:e("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M6.292 8.292a1 1 0 0 1 1.414 0L10 10.586l2.293-2.294a1 1 0 1 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})})})]}),i&&e("section",{className:"flex flex-col lg:p-3 bg-gray-100 z-10 mt-2 lg:mt-0 mb-0.5 absolute lg:relative",children:e(U,{onFilter:p})})]}),t("div",{className:"relative mx-2",children:[t("button",{className:"flex items-center justify-between w-full lg:p-3 lg:text-lg text-md   text-navy-blue  border-b border-light-blue  ",onClick:()=>h(!s),children:[e("span",{children:"Passenger"}),e("span",{className:`transform transition-transform ${s?"rotate-180":""}`,children:e("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M6.292 8.292a1 1 0 0 1 1.414 0L10 10.586l2.293-2.294a1 1 0 1 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})})})]}),s&&e("section",{className:"flex flex-col p-3 mt-2 lg:mt-0 bg-gray-100 z-10 mb-0.5 absolute lg:relative",children:e(L,{onFilter:p})})]}),t("div",{className:"relative mx-2",children:[t("button",{className:"flex items-center justify-between w-full lg:p-3 lg:text-lg text-md  text-navy-blue  border-b border-light-blue  ",onClick:()=>a(!c),children:[e("span",{children:"Price"}),e("span",{className:`transform transition-transform ${c?"rotate-180":""}`,children:e("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M6.292 8.292a1 1 0 0 1 1.414 0L10 10.586l2.293-2.294a1 1 0 1 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})})})]}),c&&e("section",{className:"flex flex-col mt-2  bg-gray-100 z-10 mb-0.5 absolute lg:relative",children:e(z,{onFilter:p})})]}),t("div",{className:"relative mx-2",children:[t("button",{className:"flex items-center justify-between w-full lg:p-3 lg:text-lg text-md  text-navy-blue  border-b border-light-blue  ",onClick:()=>m(!u),children:[e("span",{children:"Transmission"}),e("span",{className:`transform transition-transform ${u?"rotate-180":""}`,children:e("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M6.292 8.292a1 1 0 0 1 1.414 0L10 10.586l2.293-2.294a1 1 0 1 1 1.414 1.414l-3 3a1 1 0 0 1-1.414 0l-3-3a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})})})]}),u&&e("section",{className:"flex flex-col p-3 mt-2 lg:mt-0 ml-4 lg:ml-0 bg-gray-100 z-10 mb-0.5 absolute lg:relative",children:e(V,{onFilter:p})})]})]}),e("section",{className:"flex flex-row flex-wrap  flex-1",children:y.map((l,o)=>{var b;return t("div",{onClick:()=>{var v;S({description:l.car.description,passengers:l.car.passengers,bags:l.car.bags,transmission:l.car.transmission,imageURL:((v=l.car.images)==null?void 0:v.SIZE335X180)??l.car.imageURL,locationDropoff:l.dropoff.location,locationCodeDropoff:l.dropoff.location_code,locationPickup:l.pickup.location,locationCodePickup:l.pickup.location_code,companyName:l.partner.name,companyLogo:l.partner.logo,basePriceDescription:l.priceDetails.base.rate_unit,basePricePerDescription:l.priceDetails.base.price,basePriceTotal:l.priceDetails.base.total_price_float,currency:l.priceDetails.base.currency,rentDays:l.rentalDays,highlights:[...l.partner.highlights.enhancedCleaning.items]})},className:"border-4 bg-white w-full lg:w-[30%] h-1/8 cursor-pointer flex flex-col justify-center items-center m-2",children:[e("div",{className:"font-roboto text-xl font-bold m-2 border-b border-navy-blue",children:l.car.description}),t("div",{className:"flex flex-row justify-evenly w-full items-center",children:[t("div",{className:"p-1 font-mono",children:[t("p",{children:["Passengers ",l.car.passengers]}),t("p",{children:["Bags ",l.car.bags]}),e("p",{children:l.car.transmission})]}),e("div",{children:t("p",{className:"font-mono",children:["$",l.priceDetails.base.total_price_float]})})]}),e("img",{src:((b=l.car.images)==null?void 0:b.SIZE335X180)??l.car.imageURL,alt:"CarImg",className:"w-full h-full object-contain"})]},o)})})]})]})]})};export{A as default};
